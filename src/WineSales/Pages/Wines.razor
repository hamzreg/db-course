@page "/wines"

<PageTitle>Каталог вин</PageTitle>

@using WineSales.Domain.Models
@using WineSales.Domain.Interactors
@using WineSales.PageComponents
@inject ISupplierWineInteractor SupplierWineInteractor

<Jumbotron Background="Background.Light" Margin="Margin.Is4.FromBottom">
    <JumbotronTitle Size="JumbotronTitleSize.Is4">Каталог вин</JumbotronTitle>
    <Divider></Divider>
</Jumbotron>

@if (wines == null || prices == null)
{
    <Jumbotron Background="Background.Light" Margin="Margin.Is4.FromBottom">
        <JumbotronSubtitle>
            Загрузка...
        </JumbotronSubtitle>
    </Jumbotron>
}
else
{
    @for (int i = 0; i < wines.Count; i++)
    {
        <IndividualWine OneWine="wines[i]" Price="prices[i]"></IndividualWine>       
    }
}

@code {
    private List<Wine>? wines = null;
    private List<Double>? prices = null;

    protected override void OnInitialized()
    {
        (wines, prices) = SupplierWineInteractor.GetAllWine();
    }
}
